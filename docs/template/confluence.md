# Create Template for Confluence

This is usable for TER and Runbook.

## Get information with API

TOKEN is base64 encoded `username:password`, this token special you cannot success with your own.

Get all content information

```sh
curl -H "Authorization: Basic ${TOKEN}" -H "Content-Type: application/json" "https://confluence.techno.ingenico.com/rest/api/content/
```

Look at the one of them

```sh
curl -H "Authorization: Basic ${TOKEN}" -H "Content-Type: application/json" https://confluence.techno.ingenico.com/rest/api/content/276741528 | jq .
```

Look at storage

```sh
curl -H "Authorization: Basic ${TOKEN}" -H "Content-Type: application/json" https://confluence.techno.ingenico.com/rest/api/content/276741528?expand=body.storage | jq .
```

Delete a page

```sh
curl -X DELETE -H "Authorization: Basic ${TOKEN}" "https://confluence.techno.ingenico.com/rest/api/content/277841333"
```

## Template for TER

This ancestors show parentid number, you can find id with cliking `... -> View Source` link.

Example

```json
{
    "type": "page",
    "title": "TER LBO-72980 - V13 TRS - Change transaction date",
    "ancestors": [{"id": 264614007 }],
    "space": {"key": "Finops"},
    "body": {
        "storage": {
            "value": "<p><strong>Identification</strong>&nbsp;</p><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><td><p><strong>Tool</strong></p></td><td><p><strong>Number</strong></p></td></tr><tr><td><p><strong>Jira number</strong></p></td><td><div class=\"content-wrapper\"><p class=\"Reference\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"1a6d0d26-7d57-4b22-a86b-a598ca0f23d7\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">LBO-72980</ac:parameter></ac:structured-macro></p></div></td></tr><tr><td><p><strong>Change number</strong></p></td><td><div class=\"content-wrapper\"><p class=\"ReferenceSecurity\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"9964d99c-f668-46a4-9866-62b39f14fe51\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">ENCHG-36960</ac:parameter></ac:structured-macro></p><p class=\"ReferenceSecurity\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"c9f0a4b1-1396-4361-af50-a9908952a065\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">ENCHG-36961</ac:parameter></ac:structured-macro></p></div></td></tr></tbody></table><p><br /></p><p><strong>Reviewers</strong></p><table class=\"wrapped\"><colgroup><col style=\"width: 137.0px;\" /><col style=\"width: 51.0px;\" /></colgroup><tbody><tr><td><p><strong>Who</strong></p></td><td><p><strong>Area</strong></p></td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"40282be66537d1b6016585b6befe00ad\" /></ac:link></p></div></td><td colspan=\"1\">Dev</td></tr><tr><td><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"8a0512447a9910e9017b39934e0b01a4\" /></ac:link></p></div></td><td>Dev</td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"8a0512447c5a5093017d1311b4c60270\" /></ac:link></p></div></td><td colspan=\"1\">Dev</td></tr></tbody></table><p><br /></p><p><strong>Revision history</strong></p><table class=\"wrapped\"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><td><p align=\"left\"><strong>Document Version</strong></p></td><td><p align=\"left\"><strong>Date</strong></p></td><td><p align=\"left\"><strong>Name</strong></p></td><td><p align=\"left\"><strong>Description</strong></p></td></tr><tr><td><p align=\"left\">0.1</p></td><td><div class=\"content-wrapper\"><p><time datetime=\"2022-03-21\" />&nbsp;</p></div></td><td><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"40282be66537d1b6016585b6befe00ad\" /></ac:link></p></div></td><td>Initial</td></tr></tbody></table><p><br /></p><p class=\"ILevel1\"><strong>1 Introduction</strong></p><p class=\"Body\">This document outlines the Test Case execution summary for:</p><p class=\"Body\">TER LBO-72980 - V13 TRS - Change transaction date</p><p class=\"ILevel2\"><br /></p><p class=\"ILevel2\"><strong>1_1 &nbsp;Project Overview</strong></p><p class=\"ILevel3\">Problem description</p><p class=\"ILevel3\">In Transaction-API POST request date format not acceptable in new version of POSTGRES(v13) and give error, some services cannot use it.</p><p class=\"ILevel3\"><br /></p><p>Solution</p><p>Support multiple date format in transaction API and pass to POSTGRES with correct format.</p><p><br /></p><p class=\"ILevel2\"><strong>1_2 &nbsp;Interfaces Affected</strong></p><p class=\"ILevel2\">Not affected anything.</p><p><br /></p><table class=\"wrapped\"><colgroup><col /><col /><col /></colgroup><tbody><tr><td><p><strong>Item</strong></p></td><td><p><strong>Impact</strong></p></td><td><p><strong>Magnitude</strong></p></td></tr><tr><td><p><br /></p></td><td><br /></td><td><br /></td></tr></tbody></table><p><br /></p><p class=\"ILevel1\"><strong>2 Test Cases with results</strong></p><p>Below test cases are executed for a change and have kept evidences after testing.</p><p>Tested in the local environment and running test environment.</p><p class=\"ILevel1\">Transaction POST service accept both date format:</p><p class=\"ILevel1\"><ac:image ac:width=\"600\"><ri:attachment ri:filename=\"image2022-3-21_4-10-11.png\" /></ac:image></p><p class=\"ILevel1\">New format</p><p class=\"ILevel1\"><ac:image ac:width=\"600\"><ri:attachment ri:filename=\"image2022-3-21_4-11-4.png\" /></ac:image></p><p class=\"ILevel1\">In Test environment both of date works fine.</p><p class=\"ILevel2\"><strong>3&nbsp; Approval Statement</strong>&nbsp;</p><p>Get Test execution report approved by relevant authorities.</p><table class=\"wrapped\"><colgroup><col /><col /><col /></colgroup><tbody><tr><td><p><strong>Who</strong></p></td><td><p><strong>Role</strong></p></td><td><p><strong>Date</strong></p></td></tr><tr><td><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"8a0512447c5a5093017d1311b4c60270\" /></ac:link></p></div></td><td><p>Dev</p></td><td><div class=\"content-wrapper\"><p><time datetime=\"2022-03-21\" />&nbsp;</p></div></td></tr></tbody></table><p class=\"auto-cursor-target\"><br /></p>",
            "representation": "storage"
        }
    },
    "version": {
        "number": 2
    }
}
```

Template is

```json
{
    "type": "page",
    "title": "TER {{.key}} - {{.title}}",
    "ancestors": [{"id": 264614007 }],
    "space": {"key": "Finops"},
    "body": {
        "storage": {
            "value": "<p><strong>Identification</strong>&nbsp;</p><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><td><p><strong>Tool</strong></p></td><td><p><strong>Number</strong></p></td></tr><tr><td><p><strong>Jira number</strong></p></td><td><div class=\"content-wrapper\"><p class=\"Reference\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">{{.key}}</ac:parameter></ac:structured-macro></p></div></td></tr><tr><td><p><strong>Change number</strong></p></td><td><div class=\"content-wrapper\">{{range $link := .myitsmLinks }}<p class=\"ReferenceSecurity\"><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">{{ $link }}</ac:parameter></ac:structured-macro></p>{{- end}}</div></td></tr></tbody></table><p><br /></p><p><strong>Reviewers</strong></p><table class=\"wrapped\"><colgroup><col style=\"width: 137.0px;\" /><col style=\"width: 51.0px;\" /></colgroup><tbody><tr><td><p><strong>Who</strong></p></td><td><p><strong>Area</strong></p></td></tr><tr><td colspan=\"1\"></td><td colspan=\"1\">Dev</td></tr></tbody></table><p><br /></p><p><strong>Revision history</strong></p><table class=\"wrapped\"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><td><p align=\"left\"><strong>Document Version</strong></p></td><td><p align=\"left\"><strong>Date</strong></p></td><td><p align=\"left\"><strong>Name</strong></p></td><td><p align=\"left\"><strong>Description</strong></p></td></tr><tr><td><p align=\"left\">0.1</p></td><td><div class=\"content-wrapper\"><p><time datetime=\"{{now | date "2006-01-02"}}\" />&nbsp;</p></div></td><td>chore</td><td>Initial</td></tr></tbody></table><p><br /></p><p class=\"ILevel1\"><strong>1 Introduction</strong></p><p class=\"Body\">This document outlines the Test Case execution summary for:</p><p class=\"Body\">{{.title}}</p><p class=\"ILevel2\"><br /></p><p class=\"ILevel2\"><strong>1_1 &nbsp;Project Overview</strong></p><p class=\"ILevel3\">Problem description</p><p class=\"ILevel3\">TODO</p><p class=\"ILevel3\"><br /></p><p>Solution</p><p>TODO</p><p><br /></p><p class=\"ILevel2\"><strong>1_2 &nbsp;Interfaces Affected</strong></p><p class=\"ILevel2\">TODO</p><p><br /></p><table class=\"wrapped\"><colgroup><col /><col /><col /></colgroup><tbody><tr><td><p><strong>Item</strong></p></td><td><p><strong>Impact</strong></p></td><td><p><strong>Magnitude</strong></p></td></tr><tr><td><p><br /></p></td><td><br /></td><td><br /></td></tr></tbody></table><p><br /></p><p class=\"ILevel1\"><strong>2 Test Cases with results</strong></p><p>Below test cases are executed for a change and have kept evidences after testing.</p><p>TODO</p><p class=\"ILevel2\"><strong>3&nbsp; Approval Statement</strong>&nbsp;</p><p>Get Test execution report approved by relevant authorities.</p><table class=\"wrapped\"><colgroup><col /><col /><col /></colgroup><tbody><tr><td><p><strong>Who</strong></p></td><td><p><strong>Role</strong></p></td><td><p><strong>Date</strong></p></td></tr><tr><td></td><td><p>Dev</p></td><td><div class=\"content-wrapper\"><p><time datetime=\"{{now | date "2006-01-02"}}\" />&nbsp;</p></div></td></tr></tbody></table><p class=\"auto-cursor-target\"><br /></p>",
            "representation": "storage"
        }
    },
    "version": {
        "number": 2
    }
}
```

Values for TER

```yml
# key is service increment
key: LBO-72980
# title from dev ticket
title: V13 TRS - Change transaction date
# change tickets for stag and prod
myitsmLinks:
    - ENCHG-36960
    - ENCHG-36961
```

After that send this request to this link don't forget to add header `Content-Type: appication/json`

```
https://confluence.techno.ingenico.com/rest/api/content/
```

After that return base + webui

```json
"_links":{
    "webui":"/display/FinOps/TER+LBO-72980+-+This+is+test+delete+me+3",
    "edit":"/pages/resumedraft.action?draftId=277841066",
    "tinyui":"/x/qoSPE",
    "collection":"/rest/api/content",
    "base":"https://confluence.techno.ingenico.com",
    "context":"",
    "self":"https://confluence.techno.ingenico.com/rest/api/content/277841066"
},
```

## Template for Runbook

This ancestors show parentid number, you can find id with cliking `... -> View Source` link.

Example

```json
{
    "type": "page",
    "title": "Runbook LBO-72980 - V13 TRS - Change transaction date",
    "ancestors": [{"id": 264614029 }],
    "space": {"key": "Finops"},
    "body": {
        "storage": {
            "value": "<h1><strong>Runbook</strong></h1><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><td style=\"text-align: left;\"><strong>Date:</strong></td><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p><time datetime=\"2022-03-21\" />&nbsp;&nbsp;</p></div></td></tr><tr><td style=\"text-align: left;\"><strong>Owner:</strong></td><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"8a0512447a9910e9017b39934e0b01a4\" /></ac:link></p></div></td></tr><tr><td style=\"text-align: left;\"><strong>Version:</strong></td><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p>1.0</p></div></td></tr><tr><td colspan=\"1\">Reviewers</td><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:link><ri:user ri:userkey=\"40282be66537d1b6016585b6befe00ad\" /></ac:link></p><p><ac:link><ri:user ri:userkey=\"8a0512447a9910e9017b39934e0b01a4\" /></ac:link></p></div></td></tr></tbody></table><h1><strong>Release Information</strong></h1><h2>Environment impacted&nbsp;(mandatory):&nbsp;<span style=\"color: rgb(255,0,0);\">STAG</span><span style=\"color: rgb(255,0,0);\">&nbsp;</span>and&nbsp;<span style=\"color: rgb(255,0,0);\">PROD</span></h2><h1><strong>Raised Change Requests:</strong></h1><table class=\"relative-table wrapped\" style=\"width: 64.6977%;\"><colgroup><col style=\"width: 42.2634%;\" /><col style=\"width: 57.75%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Environment</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>References &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong></p></td></tr><tr><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p><strong>STAG</strong></p></div></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"1a18763f-773d-4a55-8c39-838427ee088c\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">ENCHG-36960</ac:parameter></ac:structured-macro></p></div></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>PROD</strong></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"9782362c-5d35-45ed-919c-8e90e409573c\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">ENCHG-36961</ac:parameter></ac:structured-macro></p></div></td></tr></tbody></table><h1><strong>Detailed content for this Release</strong></h1><p>For further detail please refer to JIRA and artifacts.</p><h1><strong>Release notes</strong></h1><p>The following tickets and/or functionalities are included in this release:</p><table class=\"relative-table wrapped\" style=\"width: 77.7623%;\"><colgroup><col style=\"width: 37.5721%;\" /><col style=\"width: 62.4413%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>References &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /></strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Additional Information</strong></p></td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"8835f84f-ac9f-4cfa-81ad-cd494362f85b\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">LBO-72594</ac:parameter></ac:structured-macro></p></div></td><td colspan=\"1\">Dev ticket -&nbsp;<span style=\"color: rgb(23,43,77);\">V13 TRS - Change transaction date</span></td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\" ac:macro-id=\"3e57f4d2-9302-42ea-b17c-6b9475f126f3\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">LBO-72980</ac:parameter></ac:structured-macro></p></div></td><td colspan=\"1\">Service increment -&nbsp;<span style=\"color: rgb(23,43,77);\">Release - V13 TRS - Change transaction date</span></td></tr></tbody></table><h2><strong>Related projects/incidents</strong></h2><p>The following projects and/or change requests are related to this release:</p><table class=\"relative-table wrapped\" style=\"width: 879.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Reference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Additional Information</strong></p></td></tr><tr><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p>N/A</p></div></td><td style=\"text-align: left;\">N/A</td></tr></tbody></table><p><br /></p><p><strong>Dependencies:</strong></p><p><span style=\"color: rgb(0,0,0);\">Please describe the dependencies with other versions, applications, processes or configuration, if there are no dependencies indicate with &lsquo;none&rsquo;&nbsp;</span><strong>(mandatory)</strong><span style=\"color: rgb(0,0,0);\">:&nbsp;</span></p><table class=\"relative-table wrapped\" style=\"width: 876.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Application</strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>JIRA or MyITSM</strong></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>Dependency</strong></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\">N/A</td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><br /></p></div></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><br /></p></div></td></tr></tbody></table><p><strong><br /></strong></p><h1><strong>Application versions:</strong></h1><p><span style=\"color: rgb(0,0,0);\">The following applications will be affected by this release&nbsp;<strong>(mandatory)</strong>:</span></p><table class=\"relative-table wrapped\" style=\"width: 874.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Application</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Old Version</strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>New Version</strong></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\">finops/<strong>transactions-api</strong></td><td colspan=\"1\" style=\"text-align: left;\">v2.3.2</td><td colspan=\"1\" style=\"text-align: left;\"><span style=\"color: rgb(23,43,77);\">v2.4.0</span></td></tr></tbody></table><h1><strong>Linked documents:</strong></h1><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><th>Document</th><th><br /></th></tr><tr><td>Docker hosts</td><td><ac:link><ri:page ri:content-title=\"Go/docker - Environments - Hosts\" /></ac:link></td></tr></tbody></table><h1><strong>Installation Steps:</strong></h1><div><p class=\"auto-cursor-target\"><br /></p><table class=\"wrapped relative-table\" style=\"width: 56.1858%;\"><colgroup><col style=\"width: 12.5436%;\" /><col style=\"width: 87.4463%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" colspan=\"2\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><h2><strong>STEP 1:&nbsp;&nbsp;</strong></h2></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Applicable for</strong></td><td colspan=\"1\" style=\"text-align: left;\">STAG/PROD</td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Description</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p>Run the CD pipeline.</p></td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Duration</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p class=\"TableText\">5min</p></td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Resources needed</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p class=\"TableText\">DevOps</p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Note/Instructions</strong></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><strong>STAGING and Production: </strong></p><p><strong>Merge and deploy&nbsp;<a href=\"https://gitlab.test.igdcs.com/finops/devops/docker-swarm-app/febo/-/merge_requests/1035\">Staging</a></strong></p></div><p><strong>Merge and deploy <a href=\"https://gitlab.test.igdcs.com/finops/devops/docker-swarm-app/febo/-/merge_requests/1034\">Production</a></strong></p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Test plan</strong></td><td colspan=\"1\" style=\"text-align: left;\"><p>Staging: Logon to&nbsp;<strong>STAGING</strong></p><p>Run &ldquo;sudo docker service ls&rdquo; to see if application is running and healthy (transaction-api).</p><p>See the Kibana logs to see that the service was started successfully (transaction-api).</p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Rollback</strong></td><td colspan=\"1\" style=\"text-align: left;\"><p>Rollback to previous successful deployment.&nbsp;</p></td></tr></tbody></table><p class=\"auto-cursor-target\"><br /></p></div>",
            "representation": "storage"
        }
    },
    "version": {
        "number": 2
    }
}
```

Template is

```json
{
    "type": "page",
    "title": "Runbook {{.key}} - {{.title}}",
    "ancestors": [{"id": 264614029 }],
    "space": {"key": "Finops"},
    "body": {
        "storage": {
            "value": "<h1><strong>Runbook</strong></h1><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><td style=\"text-align: left;\"><strong>Date:</strong></td><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p><time datetime=\"{{now | date "2006-01-02"}}\" />&nbsp;&nbsp;</p></div></td></tr><tr><td style=\"text-align: left;\"><strong>Owner:</strong></td><td style=\"text-align: left;\"></td></tr><tr><td style=\"text-align: left;\"><strong>Version:</strong></td><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p>1.0</p></div></td></tr><tr><td colspan=\"1\">Reviewers</td><td colspan=\"1\"></td></tr></tbody></table><h1><strong>Release Information</strong></h1><h2>Environment impacted&nbsp;(mandatory):&nbsp;<span style=\"color: rgb(255,0,0);\">STAG</span><span style=\"color: rgb(255,0,0);\">&nbsp;</span>and&nbsp;<span style=\"color: rgb(255,0,0);\">PROD</span></h2><h1><strong>Raised Change Requests:</strong></h1><table class=\"relative-table wrapped\" style=\"width: 64.6977%;\"><colgroup><col style=\"width: 42.2634%;\" /><col style=\"width: 57.75%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Environment</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>References &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong></p></td></tr><tr><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p><strong>STAG</strong></p></div></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">{{.stag}}</ac:parameter></ac:structured-macro></p></div></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>PROD</strong></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">MyITSM</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">55f82c15-c230-365f-b5ec-d9d6971f5d1f</ac:parameter><ac:parameter ac:name=\"key\">{{.prod}}</ac:parameter></ac:structured-macro></p></div></td></tr></tbody></table><h1><strong>Detailed content for this Release</strong></h1><p>For further detail please refer to JIRA and artifacts.</p><h1><strong>Release notes</strong></h1><p>The following tickets and/or functionalities are included in this release:</p><table class=\"relative-table wrapped\" style=\"width: 77.7623%;\"><colgroup><col style=\"width: 37.5721%;\" /><col style=\"width: 62.4413%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>References &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /></strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Additional Information</strong></p></td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">{{.dev}}</ac:parameter></ac:structured-macro></p></div></td><td colspan=\"1\">Dev ticket</td></tr><tr><td colspan=\"1\"><div class=\"content-wrapper\"><p><ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"><ac:parameter ac:name=\"server\">Techno JIRA</ac:parameter><ac:parameter ac:name=\"columnIds\">issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"columns\">key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution</ac:parameter><ac:parameter ac:name=\"serverId\">527ae2b4-d715-3525-b23d-78aa641cf419</ac:parameter><ac:parameter ac:name=\"key\">{{.key}}</ac:parameter></ac:structured-macro></p></div></td><td colspan=\"1\">Service increment</td></tr></tbody></table><h2><strong>Related projects/incidents</strong></h2><p>The following projects and/or change requests are related to this release:</p><table class=\"relative-table wrapped\" style=\"width: 879.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Reference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Additional Information</strong></p></td></tr><tr><td style=\"text-align: left;\"><div class=\"content-wrapper\"><p>N/A</p></div></td><td style=\"text-align: left;\">N/A</td></tr></tbody></table><p><br /></p><p><strong>Dependencies:</strong></p><p><span style=\"color: rgb(0,0,0);\">Please describe the dependencies with other versions, applications, processes or configuration, if there are no dependencies indicate with &lsquo;none&rsquo;&nbsp;</span><strong>(mandatory)</strong><span style=\"color: rgb(0,0,0);\">:&nbsp;</span></p><table class=\"relative-table wrapped\" style=\"width: 876.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Application</strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>JIRA or MyITSM</strong></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>Dependency</strong></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\">N/A</td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><br /></p></div></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><br /></p></div></td></tr></tbody></table><p><strong><br /></strong></p><h1><strong>Application versions:</strong></h1><p><span style=\"color: rgb(0,0,0);\">The following applications will be affected by this release&nbsp;<strong>(mandatory)</strong>:</span></p><table class=\"relative-table wrapped\" style=\"width: 874.0px;\"><colgroup><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /><col style=\"width: 0.0px;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Application</strong></p></td><td class=\"highlight-blue\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><p class=\"TableRowHeader\"><strong>Old Version</strong></p></td><td class=\"highlight-blue\" colspan=\"1\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><strong>New Version</strong></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\">finops/<strong>test-api</strong> (EDIT HERE)</td><td colspan=\"1\" style=\"text-align: left;\">v2.x (EDIT HERE)</td><td colspan=\"1\" style=\"text-align: left;\"><span style=\"color: rgb(23,43,77);\">v2.4.0 (EDIT HERE)</span></td></tr></tbody></table><h1><strong>Linked documents:</strong></h1><table class=\"wrapped\"><colgroup><col /><col /></colgroup><tbody><tr><th>Document</th><th><br /></th></tr><tr><td>Docker hosts</td><td><ac:link><ri:page ri:content-title=\"Go/docker - Environments - Hosts\" /></ac:link></td></tr></tbody></table><h1><strong>Installation Steps:</strong></h1><div><p class=\"auto-cursor-target\"><br /></p><table class=\"wrapped relative-table\" style=\"width: 56.1858%;\"><colgroup><col style=\"width: 12.5436%;\" /><col style=\"width: 87.4463%;\" /></colgroup><tbody><tr><td class=\"highlight-blue\" colspan=\"2\" data-highlight-colour=\"blue\" style=\"text-align: left;\"><h2><strong>STEP 1:&nbsp;&nbsp;</strong></h2></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Applicable for</strong></td><td colspan=\"1\" style=\"text-align: left;\">STAG/PROD</td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Description</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p>Run the CD pipeline.</p></td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Duration</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p class=\"TableText\">5min</p></td></tr><tr><td style=\"text-align: left;\"><p class=\"TableText\"><strong>Resources needed</strong></p></td><td colspan=\"1\" style=\"text-align: left;\"><p class=\"TableText\">DevOps</p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Note/Instructions</strong></td><td colspan=\"1\" style=\"text-align: left;\"><div class=\"content-wrapper\"><p><strong>STAGING and Production: </strong></p><p><strong>Merge and deploy&nbsp;<a href=\"{{.mergeStag}}\">Staging</a></strong></p></div><p><strong>Merge and deploy <a href=\"{{.mergeProd}}\">Production</a></strong></p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Test plan</strong></td><td colspan=\"1\" style=\"text-align: left;\"><p>Staging: Logon to&nbsp;<strong>STAGING</strong></p><p>Run &ldquo;sudo docker service ls&rdquo; to see if application is running and healthy (transaction-api).</p><p>See the Kibana logs to see that the service was started successfully (transaction-api).</p></td></tr><tr><td colspan=\"1\" style=\"text-align: left;\"><strong>Rollback</strong></td><td colspan=\"1\" style=\"text-align: left;\"><p>Rollback to previous successful deployment.&nbsp;</p></td></tr></tbody></table><p class=\"auto-cursor-target\"><br /></p></div>",
            "representation": "storage"
        }
    },
    "version": {
        "number": 2
    }
}
```

Values for Runbook

```yml
# myitsm change
stag: ENCHG-36960
prod: ENCHG-36961
# dev ticket
dev: LBO-72594
# key is service increment
key: LBO-72980
# title from dev ticket
title: V13 TRS - Change transaction date
# merge requests links
mergeStag: https://gitlab.test.igdcs.com/finops/devops/docker-swarm-app/febo/-/merge_requests/1035
mergeProd: https://gitlab.test.igdcs.com/finops/devops/docker-swarm-app/febo/-/merge_requests/1034
```

After that send this request to this link don't forget to add header `Content-Type: appication/json`

```
https://confluence.techno.ingenico.com/rest/api/content/
```
